CSI_CONFIG_PATH=/opt/universal_agent/CSI_Ingester/development/config/config.yaml
CSI_DB_PATH=/opt/universal_agent/CSI_Ingester/development/var/csi.db
CSI_LOG_LEVEL=INFO
CSI_INSTANCE_ID=csi-vps-01
CSI_UA_ENDPOINT=http://127.0.0.1:8002/api/v1/signals/ingest
CSI_UA_SHARED_SECRET=replace_me
# CSI LLM auth lane selector:
# 0 = shared UA auth vars (ANTHROPIC_API_KEY -> ANTHROPIC_AUTH_TOKEN -> ZAI_API_KEY)
# 1 = CSI dedicated auth vars only (no fallback to shared UA vars)
CSI_LLM_AUTH_MODE=0
# To seed dedicated vars from shared vars in your real env file:
# python3 /opt/universal_agent/CSI_Ingester/development/scripts/csi_seed_dedicated_auth_env.py --set-mode-1
# Dedicated CSI lane vars (set these and switch CSI_LLM_AUTH_MODE=1 to isolate CSI auth)
CSI_ANTHROPIC_API_KEY=
CSI_ANTHROPIC_AUTH_TOKEN=
CSI_ANTHROPIC_BASE_URL=
CSI_ZAI_API_KEY=
CSI_ZAI_BASE_URL=
YOUTUBE_API_KEY=replace_me
YT_TUTORIALS_PLAYLIST_ID=PLjL3liQSixttJVlA7eM-9vUMbC5C8hba9
CSI_RSS_TELEGRAM_CHAT_ID=
# Optional per-stream Telegram chat overrides for feed separation
CSI_REDDIT_TELEGRAM_CHAT_ID=
CSI_TUTORIAL_TELEGRAM_CHAT_ID=
# Optional Telegram topic/thread routing (for forum topics in a single supergroup)
CSI_RSS_TELEGRAM_THREAD_ID=
CSI_REDDIT_TELEGRAM_THREAD_ID=
CSI_TUTORIAL_TELEGRAM_THREAD_ID=
# Optional strict stream routing (1=true). When enabled, Reddit/tutorial streams do not fall back to RSS/default chat.
CSI_TELEGRAM_STRICT_STREAM_ROUTING=1
CSI_REDDIT_TELEGRAM_STRICT_STREAM_ROUTING=1
CSI_TUTORIAL_TELEGRAM_STRICT_STREAM_ROUTING=1
# Optional override; if empty, script falls back to TELEGRAM_BOT_TOKEN from /opt/universal_agent/.env
CSI_RSS_TELEGRAM_BOT_TOKEN=
CSI_REDDIT_TELEGRAM_BOT_TOKEN=
CSI_TUTORIAL_TELEGRAM_BOT_TOKEN=
# Set to 1 to use Anthropic summarization for digest text (fallback digest used otherwise)
CSI_RSS_DIGEST_USE_CLAUDE=0
CSI_RSS_DIGEST_CLAUDE_MODEL=claude-3-5-haiku-latest
CSI_REDDIT_DIGEST_USE_CLAUDE=0
CSI_REDDIT_DIGEST_CLAUDE_MODEL=claude-3-5-haiku-latest
# Tutorial digest artifact discovery root
CSI_TUTORIAL_ARTIFACTS_ROOT=/opt/universal_agent/artifacts
# Tutorial pending reminder controls (for runs waiting on artifacts)
CSI_TUTORIAL_PENDING_REMINDER_MINUTES=30
CSI_TUTORIAL_PENDING_REMINDER_COOLDOWN_MINUTES=120
# Tutorial stalled-turn watchdog (turn_started without turn_finalized)
CSI_TUTORIAL_STALLED_TURN_MINUTES=15
CSI_TUTORIAL_STALLED_TURN_COOLDOWN_MINUTES=90
# Optional workspace root override for pending reminder hints
CSI_TUTORIAL_WORKSPACE_ROOT=/opt/universal_agent/AGENT_RUN_WORKSPACES
# Reddit watchlist file for category hints in digest/report
CSI_REDDIT_WATCHLIST_FILE=/opt/universal_agent/CSI_Ingester/development/reddit_watchlist.json
# RSS semantic enrichment controls (transcript + adaptive category summary)
CSI_RSS_ANALYSIS_USE_CLAUDE=1
CSI_RSS_ANALYSIS_CLAUDE_MODEL=claude-3-5-haiku-latest
# Adaptive category taxonomy cap (core categories + dynamic categories)
CSI_RSS_ANALYSIS_MAX_CATEGORIES=10
# Optional override; defaults to UA local ingest endpoint
CSI_RSS_ANALYSIS_TRANSCRIPT_ENDPOINT=http://127.0.0.1:8002/api/v1/youtube/ingest
# Preferred: comma-separated endpoint failover list (left-to-right).
# Tailnet residential worker first, VPS-local worker second fallback:
# CSI_RSS_ANALYSIS_TRANSCRIPT_ENDPOINTS=http://100.95.187.38:8002/api/v1/youtube/ingest,http://127.0.0.1:8002/api/v1/youtube/ingest
CSI_RSS_ANALYSIS_TRANSCRIPT_ENDPOINTS=
# Optional override; falls back to UA_YOUTUBE_INGEST_TOKEN / UA_INTERNAL_API_TOKEN from /opt/universal_agent/.env
CSI_RSS_ANALYSIS_TRANSCRIPT_TOKEN=
# RSS trend report controls
CSI_RSS_TREND_USE_CLAUDE=1
CSI_RSS_TREND_CLAUDE_MODEL=claude-3-5-haiku-latest
# Reddit trend report controls
CSI_REDDIT_TREND_USE_CLAUDE=1
CSI_REDDIT_TREND_CLAUDE_MODEL=claude-3-5-haiku-latest
# CSI insight analyst controls (hourly emerging + daily report)
CSI_RSS_INSIGHT_USE_CLAUDE=1
CSI_RSS_INSIGHT_CLAUDE_MODEL=claude-3-5-haiku-latest
# CSI category quality loop controls
CSI_CATEGORY_QUALITY_LOOKBACK_HOURS=72
CSI_CATEGORY_QUALITY_MIN_ITEMS=30
# CSI analysis task runner controls (UA -> CSI analyst task queue)
CSI_ANALYSIS_TASK_RUNNER_REQUEST_TYPES=trend_followup,category_deep_dive,channel_deep_dive,ad_hoc_query
CSI_ANALYSIS_TASK_RUNNER_USE_CLAUDE=1
CSI_ANALYSIS_TASK_RUNNER_CLAUDE_MODEL=claude-3-5-haiku-latest
# CSI task bootstrap controls (keeps baseline recurring tasks queued)
CSI_ANALYSIS_TASK_BOOTSTRAP_REQUEST_TYPES=trend_followup,category_deep_dive,channel_deep_dive
# Nightly validation controls (for csi_nightly_validation.py)
CSI_NIGHTLY_VALIDATION_LOOKBACK_HOURS=24
CSI_NIGHTLY_VALIDATION_REQUIRE_MODE1=0
# RSS quality gate controls
CSI_QUALITY_GATE_MIN_RECENT_RSS_EVENTS=1
CSI_QUALITY_GATE_MAX_RECENT_UNDELIVERED=0
CSI_QUALITY_GATE_MAX_RECENT_DLQ=0
CSI_QUALITY_GATE_MIN_TRANSCRIPT_OK_RATIO=0.15
CSI_QUALITY_GATE_MAX_OTHER_INTEREST_RATIO=0.85
CSI_QUALITY_GATE_MAX_RSS_STALENESS_MINUTES=240
CSI_QUALITY_GATE_ALERT_REPEAT_MINUTES=180
# Delivery-health canary controls
UA_CSI_DELIVERY_CANARY_WINDOW_HOURS=6
UA_CSI_DELIVERY_CANARY_REPEAT_MINUTES=45
# Auto-remediation controls (packet 12)
UA_CSI_AUTO_REMEDIATE_COOLDOWN_MINUTES=30
UA_CSI_AUTO_REMEDIATE_MAX_ATTEMPTS_PER_WINDOW=3
UA_CSI_AUTO_REMEDIATE_ATTEMPT_WINDOW_MINUTES=360
UA_CSI_AUTO_REMEDIATE_MAX_ACTIONS_PER_RUN=3
UA_CSI_AUTO_REMEDIATE_DLQ_REPLAY_LIMIT=50
UA_CSI_AUTO_REMEDIATE_DLQ_REPLAY_ATTEMPTS=3
